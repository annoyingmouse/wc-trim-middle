<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>&lt;wc-trim-middle/&gt;</title>
    <link rel="stylesheet" href="./style/sakura.css" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Figtree:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
      body{
        font-family: 'Figtree', sans-serif;
        margin-bottom: 10rem;
      }
      h1, h2, h3, h4, h5, h6 {
        font-family: 'Figtree', sans-serif;
      }
    </style>
  </head>
  <body>
    <h1>&lt;wc-trim-middle/&gt;</h1>
    <p style="margin-bottom: 0;">
      <a href="https://www.webcomponents.org/element/@annoyingmouse/wc-trim-middle"
         rel="nofollow">
        <img src="https://camo.githubusercontent.com/fa095f7c7b24972f3525b39a6f31c15626f3a4cc019314b4f19ad88ccfd47ddb/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f776562636f6d706f6e656e74732e6f72672d7075626c69736865642d626c75652e737667"
             alt="Published on webcomponents.org"
             data-canonical-src="https://img.shields.io/badge/webcomponents.org-published-blue.svg"
             style="max-width: 100%;margin-bottom: 0;">
      </a>
    </p>
    <p>Demo here: <a href="https://codepen.io/annoyingmouse/pen/MYgBEjg">https://codepen.io/annoyingmouse/pen/MYgBEjg</a></p>
    <p>Shamelessly stolen from Christian Heilmann this takes his function and embeds it into a Web Component without a shadowDOM, according to Mr Heilmann:</p>
    <blockquote>
      One of the cool features of MacOSâ€™ Finder app is that it does not trim file names that donâ€™t fit the space at the end, but in the middle of the file name. This does make a lot more sense, as it also shows what format the file is.
    </blockquote>
    <p>The original text is retained in the title attribute of the element, but only if the string has been trimmed.</p>
    <h2>Installation</h2>
    <pre style='color:#000000;background:#ffffff;'><span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>script</span><span style='color:#274796; '> </span><span style='color:#074726; '>type</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"module"</span><span style='color:#274796; '> </span><span style='color:#074726; '>src</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"https://unpkg.com/@annoyingmouse/wc-trim-middle/wc-trim-middle.js"</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>script</span><span style='color:#a65700; '>></span></pre>
    <p>Alternatively:</p>
    <pre style='color:#000000;background:#ffffff;'><span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>script</span><span style='color:#274796; '> </span><span style='color:#074726; '>type</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"module"</span><span style='color:#274796; '> </span><span style='color:#074726; '>src</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"https://cdn.skypack.dev/@annoyingmouse/wc-trim-middle/wc-trim-middle.js"</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>script</span><span style='color:#a65700; '>></span></pre>
    <p>You can use it minified by adding using this instead:</p>
    <pre style='color:#000000;background:#ffffff;'><span style='color:#a65700; '>&lt;</span><span style='color:#800000; font-weight:bold; '>script</span><span style='color:#274796; '> </span><span style='color:#074726; '>type</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"module"</span><span style='color:#274796; '> </span><span style='color:#074726; '>src</span><span style='color:#808030; '>=</span><span style='color:#0000e6; '>"[WHATEVER CDN]/@annoyingmouse/wc-trim-middle/dist/wc-trim-middle.min.js"</span><span style='color:#a65700; '>></span><span style='color:#a65700; '>&lt;/</span><span style='color:#800000; font-weight:bold; '>script</span><span style='color:#a65700; '>></span></pre>
    <p>Please remember to change <code>[WHATEVER CDN]</code> to your favourite <abbr title="Content Delivery Network">CDN</abbr></p>
    <h2>Configuration</h2>
    <ul>
      <li>Adding a <code>width</code> attribute allow you to define the amount of letters you want to show - it defaults to 16.</li>
      <li>Adding a <code>replacement</code> attribute allows you to change what the character in between the parts should be - it defaults to <code>â€¦</code>.</li>
    </ul>

    <h2>Example 01</h2>
    <p><span is="wc-trim-middle">This is a long string that will be trimmed</span></p>
    <h2>Example 02</h2>
    <p><span is="wc-trim-middle">This is a short string</span></p>
    <h2>Example 03</h2>
    <p><span is="wc-trim-middle">This is a medium string that will be trimmed</span></p>
    <h2>Example 04</h2>
    <p><span is="wc-trim-middle">This ğŸ‡ºğŸ‡³ is ğŸ¤¡ ğŸ¥ a string ğŸ¥° ğŸ§‘â€ğŸ§‘â€ğŸ§’â€ğŸ§’ with compound emoji ğŸ˜Š </span></p>
    <h2>Example 05</h2>
    <p><span is="wc-trim-middle">This is a string with a compound emoji ğŸ§‘â€ğŸ§‘â€ğŸ§’â€ğŸ§’</span></p>
    <h2>Example 06</h2>
    <p><span is="wc-trim-middle">This is a string with a compound emoji ğŸ§‘â€ğŸ§‘â€ğŸ§’â€ğŸ§’ and a flag ğŸ‡ºğŸ‡³</span></p>
    <h2>Example 07</h2>
    <p><span is="wc-trim-middle">Dies is ein Ã¶Ã¼ deutscher String mit Umlauten Ã¤ÃŸ</span></p>
    <h2>Example 08</h2>
    <h3>Controls</h3>
    <div style="display: flex; width: 100%; flex-direction: row; justify-content: space-between;">
      <input type="range" id="length" name="length" min="5" max="40" value="16"/>
      <label for="length">Length (<span id="current-length">16</span>)</label>
    </div>
    <div style="display: flex; width: 100%; flex-direction: row; justify-content: space-between;">
      <input type="text" id="replacement" name="replacement" value="â€¦"/>
      <label for="replacement">Replacement (<span id="replacement-string">â€¦</span>)</label>
    </div>
    <h3>Examples</h3>
    <p><span is="wc-trim-middle" class="dynamic-example" width="16" replacement="â€¦">This is a long string that will be trimmed</span></p>
    <p><span is="wc-trim-middle" class="dynamic-example" width="16" replacement="â€¦">Very short text</span></p>
    <p><span is="wc-trim-middle" class="dynamic-example" width="16" replacement="â€¦">This is a short string</span></p>
    <p><span is="wc-trim-middle" class="dynamic-example" width="16" replacement="â€¦">This is a medium string that will be trimmed</span></p>
    <p><span is="wc-trim-middle" class="dynamic-example" width="16" replacement="â€¦">This ğŸ‡ºğŸ‡³ is ğŸ¤¡ ğŸ¥ a string ğŸ¥° ğŸ§‘â€ğŸ§‘â€ğŸ§’â€ğŸ§’ with compound emoji ğŸ˜Š </span></p>
    <p><span is="wc-trim-middle" class="dynamic-example" width="16" replacement="â€¦">This is a string with a compound emoji ğŸ§‘â€ğŸ§‘â€ğŸ§’â€ğŸ§’</span></p>
    <p><span is="wc-trim-middle" class="dynamic-example" width="16" replacement="â€¦">This is a string with a compound emoji ğŸ§‘â€ğŸ§‘â€ğŸ§’â€ğŸ§’ and a flag ğŸ‡ºğŸ‡³</span></p>
    <p><span is="wc-trim-middle" class="dynamic-example" width="16" replacement="â€¦">Dies is ein Ã¶Ã¼ deutscher String mit Umlauten Ã¤ÃŸ</span></p>
    <hr>
    <div style="display: flex; width: 100%; flex-direction: row; justify-content: space-between;">
      <input type="text" id="string" name="string" value="Lorem ipsum dolor sit amet, consectetur adipiscing elit." style="width: 75% !important;"/>
      <label for="string">Change the text.</label>
    </div>
    <hr>
    <p><span is="wc-trim-middle" id="dynamic-string" class="dynamic-example" width="16" replacement="â€¦">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</span></p>

    <script type="module" src="./wc-trim-middle.js"></script>
    <script>
      (() => {
        const examples = document.querySelectorAll('.dynamic-example');
        const length = document.getElementById('length');
        const currentLength = document.getElementById('current-length');
        length.value = currentLength.innerText;
        const replacement = document.getElementById('replacement');
        const replacementString = document.getElementById('replacement-string');
        replacement.value = replacementString.innerText;
        const string = document.getElementById('string');
        const dynamicString = document.getElementById('dynamic-string');

        length.addEventListener('input', (e) => {
          currentLength.innerText = e.target.value;
          examples.forEach((example) => {
            example.setAttribute('width', e.target.value);
          });
        });

        replacement.addEventListener('input', (e) => {
          replacementString.innerText = e.target.value;
          examples.forEach((example) => {
            example.setAttribute('replacement', e.target.value);
          });
        });

        string.addEventListener('input', (e) => {
          dynamicString.innerText = e.target.value;
        });
      })();

    </script>
  </body>
</html>